<!doctype html>
<html lang="cs">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Slav Clicker</title>
  <link rel="stylesheet" href="gopnik.css">
</head>

<body>

  <!-- LOADING -->
  <div id="loading">
    <div class="loader">
      <div class="title">SLAV CLICKER</div>
      <div class="hint" id="t_startHint">klikni pro start</div>
    </div>
  </div>

  <!-- AUDIO -->
  <audio id="clickSnd" src="click.mp3" preload="auto"></audio>
  <audio id="bgMusic" src="go.mp3" preload="auto" loop></audio>

  <!-- SETTINGS MODAL -->
  <div id="settingsModal" class="modal" aria-hidden="true">
    <div class="modalBox">
      <div class="modalHeader">
        <div id="t_settingsTitle" class="modalTitle">Nastavení</div>
        <button id="btnCloseSettings" class="iconBtn" title="Zavřít">✖</button>
      </div>

      <div class="modalRow">
        <label class="switchRow">
          <input type="checkbox" id="musicToggle" checked>
          <span id="t_musicLabel">Hudba</span>
        </label>
      </div>

      <div class="modalRow">
        <label for="langSelect" id="t_langLabel">Jazyk</label>
        <select id="langSelect" class="select">
          <option value="cs">Čeština</option>
          <option value="en">English</option>
        </select>
      </div>

      <!-- SUPABASE LOGIN -->
      <div class="modalRow">
        <div class="authTitle">Cloud Save (Supabase)</div>

        <div class="authStatus" id="authStatus">Nepřihlášen</div>

        <div class="authGrid">
          <input id="authEmail" class="authInput" type="email" placeholder="email">
          <input id="authPass" class="authInput" type="password" placeholder="heslo">
        </div>

        <div class="authBtns">
          <button id="btnSignUp" class="tagBtn">Registrovat</button>
          <button id="btnSignIn" class="tagBtn">Přihlásit</button>
          <button id="btnSignOut" class="tagBtn" disabled>Odhlásit</button>
        </div>

        <div class="authBtns">
          <button id="btnSync" class="tagBtn" disabled>Sync teď</button>
        </div>

        <div class="authHint" id="authHint">
          Po přihlášení se hra ukládá i do cloudu.
        </div>
      </div>
    </div>
  </div>

  <!-- GAME -->
  <div class="wrap">

    <!-- LEFT -->
    <div class="leftcol">
      <div class="logo">SLAV <span>CLICKER</span></div>

      <div class="ring" id="gopnik">
        <img id="gopnikImg" src="gopnik_A.png" alt="gopnik">
      </div>
    </div>

    <!-- RIGHT MENU (paper style) -->
    <div class="panel paperMenu">

      <div class="panelTop">
        <button id="btnSettings" class="iconBtn" title="Nastavení">⚙️</button>
      </div>

      <section class="paperSheet paperStats">
        <div class="paperTitle" id="t_moneyTitle">PENÍZE</div>
        <div class="paperStatRow"><span id="t_moneyLabel">Peníze:</span><b id="money">0</b></div>
        <div class="paperStatRow"><span id="t_cpcLabel">Za klik:</span><b id="cpc">1</b></div>
        <div class="paperStatRow"><span id="t_cpsLabel">Za sekundu:</span><b id="cps">0</b></div>
      </section>

      <section class="paperSheet paperHud">
        <div class="paperStatRow"><span id="t_comboLabel">Combo:</span><b id="combo">x1.00</b></div>
        <div class="paperStatRow"><span id="t_critLabel">Krit:</span><b id="crit">10%</b></div>
        <div class="paperEvent" id="eventLine">—</div>
      </section>

      <section class="paperSheet paperHeader">
        <div class="paperTitle" id="t_shopTitle">OBCHOD</div>
      </section>

      <section class="paperSheet shopItem">
        <div class="shopTop">
          <div class="shopName" id="t_itemCursor">Kurzor</div>
          <button id="buyCursor" class="tagBtn">Koupit (15)</button>
        </div>
        <div class="shopDesc">+0.1 / s</div>
      </section>

      <section class="paperSheet shopItem">
        <div class="shopTop">
          <div class="shopName" id="t_itemGranny">Babička</div>
          <button id="buyGranny" class="tagBtn">Koupit (100)</button>
        </div>
        <div class="shopDesc">+1 / s</div>
      </section>

      <section class="paperSheet shopItem">
        <div class="shopTop">
          <div class="shopName" id="t_itemClick">Síla kliku</div>
          <button id="buyClick" class="tagBtn">Vylepšit (50)</button>
        </div>
        <div class="shopDesc">+1 za klik</div>
      </section>

      <section class="paperSheet paperHeader">
        <div class="paperTitle" id="t_prestigeTitle">PRESTIGE</div>
      </section>

      <section class="paperSheet paperPrestige">
        <div class="paperStatRow"><span id="t_spLabel">Slav Points:</span><b id="sp">0</b></div>
        <div class="paperStatRow"><span id="t_bonusLabel">Bonus celkem:</span><b id="bonus">+0%</b></div>

        <div class="paperGain">
          <span id="t_gainLabel">Získáš při prestiži:</span> <b id="spGain">0</b>
        </div>

        <button id="btnPrestige" class="prestigeBtn" disabled>Prestige (reset)</button>

        <div class="paperNote" id="t_prestigeHint">
          Resetuje peníze a upgradey, ale dá trvalý bonus.
        </div>
      </section>

    </div>
  </div>

  <!-- Supabase JS (UMD) -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

  <!-- GAME JS -->
  <script src="gopnik.js"></script>
</body>
</html>

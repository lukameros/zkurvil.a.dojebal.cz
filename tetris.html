<!DOCTYPE html>
<html lang="cs">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Tetris - Enhanced</title>
<link rel="stylesheet" href="tetris.css">
</head>
<body>

<button id="backBtn" onclick="window.location.href='hry.html'">â¬… ZpÄ›t</button>

<div id="playerStats">
    <div id="levelDisplay">
        â­ Level <span id="playerLevel">1</span>
        <div class="xp-bar-container">
            <div class="xp-bar" id="xpBar"></div>
        </div>
        <div class="xp-text" id="xpText">0 / 50 XP</div>
    </div>
    <div id="coinsDisplay">ğŸ’° <span id="coinCount">0</span></div>
    <div id="happyHourIndicator" style="padding: 8px 15px; background: rgba(100, 100, 100, 0.5); border: 2px solid #666; border-radius: 8px; font-size: 14px; font-weight: bold; color: #aaa; text-align: center;">
        â° Happy Hour v 15:00
    </div>
</div>

<div id="mainMenu" class="centered" style="display:none;">
    <h1>ğŸ® TETRIS ğŸ®</h1>
    <button class="menuBtn" onclick="window.goToKlasika()">ğŸ•¹ï¸ Classicplay</button>
    <button class="menuBtn" onclick="window.startMagicPlay()">ğŸš€ Magicplay</button>
    <button class="menuBtn" onclick="window.location.href='tetrismulti.html'">ğŸŒ Multiplayer</button>
    <button class="menuBtn" onclick="showSettingsMenu()">âš™ï¸ NastavenÃ­</button>
    <button class="menuBtn" onclick="showDifficultyMenu()">ğŸšï¸ ObtÃ­Å¾nost</button>
    <button class="menuBtn" onclick="showMapMenu()">ğŸ“ Mapy</button>
    <button class="menuBtn" onclick="showThemeMenu()">ğŸ¨ Vzhled</button>
    <button class="menuBtn" onclick="showLeaderboard()">ğŸ† Å½ebÅ™Ã­Äek</button>
</div>

<div id="settingsMenu" class="centered" style="display:none;">
    <h1>âš™ï¸ NastavenÃ­</h1>
    <div style="display: flex; flex-direction: column; gap: 20px; align-items: center;">
        
        <!-- Zvuk -->
        <div style="background: rgba(30, 30, 60, 0.7); padding: 25px; border-radius: 12px; border: 2px solid #00ffff; min-width: 400px;">
            <h3 style="color: #00ffff; margin-bottom: 15px; text-align: center;">ğŸ”Š Zvuk</h3>
            <div style="display: flex; justify-content: center; gap: 15px;">
                <button class="menuBtn" id="soundOn" onclick="setSoundEnabled(true)" style="min-width: 150px;">
                    ğŸ”Š Zapnuto
                </button>
                <button class="menuBtn" id="soundOff" onclick="setSoundEnabled(false)" style="min-width: 150px;">
                    ğŸ”‡ Vypnuto
                </button>
            </div>
        </div>
        
        <!-- Jazyk -->
        <div style="background: rgba(30, 30, 60, 0.7); padding: 25px; border-radius: 12px; border: 2px solid #00ffff; min-width: 400px;">
            <h3 style="color: #00ffff; margin-bottom: 15px; text-align: center;">ğŸŒ Jazyk</h3>
            <div style="display: flex; justify-content: center; gap: 15px;">
                <button class="menuBtn" id="langCs" onclick="setLanguage('cs')" style="min-width: 150px;">
                    ğŸ‡¨ğŸ‡¿ ÄŒeÅ¡tina
                </button>
                <button class="menuBtn" id="langEn" onclick="setLanguage('en')" style="min-width: 150px;">
                    ğŸ‡¬ğŸ‡§ English
                </button>
            </div>
        </div>
        
    </div>
    <button class="menuBtn" onclick="backToMainMenu()" style="margin-top: 30px;">â¬… ZpÄ›t</button>
</div>
 
<div id="difficultyMenu" class="centered" style="display:none;">
    <h1>ObtÃ­Å¾nost</h1>
    <button class="menuBtn" onclick="setDifficulty('easy')">ğŸ˜Š SnadnÃ¡</button>
    <button class="menuBtn" onclick="setDifficulty('medium')">ğŸ˜ StÅ™ednÃ­</button>
    <button class="menuBtn" onclick="setDifficulty('hard')">ğŸ˜ˆ TÄ›Å¾kÃ¡</button>
    <button class="menuBtn" onclick="setDifficulty('insane')">ğŸ’€ Å Ã­lenÃ¡</button>
    <button class="menuBtn" onclick="backToMainMenu()">â¬… ZpÄ›t</button>
</div>

<div id="themeMenu" class="centered" style="display:none;">
    <h1>BarevnÃ© tÃ©ma</h1>
    <div class="menu-section">
        <button class="menuBtn" id="theme-classic" onclick="setTheme('classic')">ğŸŒˆ KlasickÃ©</button>
        <button class="menuBtn" id="theme-neon" onclick="setTheme('neon')">âœ¨ Neon</button>
        <button class="menuBtn locked" id="theme-fire" onclick="buyTheme('fire', 500, 2)">
            ğŸ”¥ OheÅˆ
            <span class="level-req">Lvl 2</span>
            <span class="price-tag">ğŸ’° 500</span>
        </button>
        <button class="menuBtn locked" id="theme-candy" onclick="buyTheme('candy', 800, 2)">
            ğŸ¬ Candy
            <span class="level-req">Lvl 2</span>
            <span class="price-tag">ğŸ’° 800</span>
        </button>
        <button class="menuBtn locked" id="theme-ocean" onclick="buyTheme('ocean', 1200, 3)">
            ğŸŒŠ OceÃ¡n
            <span class="level-req">Lvl 3</span>
            <span class="price-tag">ğŸ’° 1200</span>
        </button>
        <button class="menuBtn locked" id="theme-ice" onclick="buyTheme('ice', 1500, 3)">
            â„ï¸ Led
            <span class="level-req">Lvl 3</span>
            <span class="price-tag">ğŸ’° 1500</span>
        </button>
        <button class="menuBtn locked" id="theme-matrix" onclick="buyTheme('matrix', 1800, 4)">
            ğŸ’» Matrix
            <span class="level-req">Lvl 4</span>
            <span class="price-tag">ğŸ’° 1800</span>
        </button>
        <button class="menuBtn locked" id="theme-forest" onclick="buyTheme('forest', 2200, 4)">
            ğŸŒ² Les
            <span class="level-req">Lvl 4</span>
            <span class="price-tag">ğŸ’° 2200</span>
        </button>
        <button class="menuBtn locked" id="theme-lava" onclick="buyTheme('lava', 2600, 5)">
            ğŸŒ‹ LÃ¡va
            <span class="level-req">Lvl 5</span>
            <span class="price-tag">ğŸ’° 2600</span>
        </button>
        <button class="menuBtn locked" id="theme-sunset" onclick="buyTheme('sunset', 3000, 5)">
            ğŸŒ… ZÃ¡pad slunce
            <span class="level-req">Lvl 5</span>
            <span class="price-tag">ğŸ’° 3000</span>
        </button>
        <button class="menuBtn locked" id="theme-toxic" onclick="buyTheme('toxic', 3400, 6)">
            â˜¢ï¸ Toxic
            <span class="level-req">Lvl 6</span>
            <span class="price-tag">ğŸ’° 3400</span>
        </button>
        <button class="menuBtn locked" id="theme-galaxy" onclick="buyTheme('galaxy', 3800, 6)">
            ğŸŒŒ Galaxie
            <span class="level-req">Lvl 6</span>
            <span class="price-tag">ğŸ’° 3800</span>
        </button>
        <button class="menuBtn locked" id="theme-midnight" onclick="buyTheme('midnight', 4200, 7)">
            ğŸŒ™ PÅ¯lnoc
            <span class="level-req">Lvl 7</span>
            <span class="price-tag">ğŸ’° 4200</span>
        </button>
        <button class="menuBtn locked" id="theme-rainbow" onclick="buyTheme('rainbow', 4600, 8)">
            ğŸ¦„ Duha
            <span class="level-req">Lvl 8</span>
            <span class="price-tag">ğŸ’° 4600</span>
        </button>
        <button class="menuBtn locked" id="theme-crystal" onclick="buyTheme('crystal', 4900, 9)">
            ğŸ’ Krystal
            <span class="level-req">Lvl 9</span>
            <span class="price-tag">ğŸ’° 4900</span>
        </button>
        <button class="menuBtn locked" id="theme-gold" onclick="buyTheme('gold', 5000, 10)">
            ğŸ‘‘ ZlatÃ©
            <span class="level-req">Lvl 10</span>
            <span class="price-tag">ğŸ’° 5000</span>
        </button>
    </div>
    <button class="menuBtn" onclick="backToMainMenu()">â¬… ZpÄ›t</button>
</div>

<div id="mapMenu" class="centered" style="display:none;">
    <h1>RozmÄ›ry mapy</h1>
    <div class="menu-section">
        <button class="menuBtn" id="map-20x10" onclick="setMap(20,10)">ğŸ“ StandardnÃ­ 20x10</button>
        <button class="menuBtn" id="map-18x12" onclick="setMap(18,12)">â†”ï¸ Å irokÃ¡ 18x12</button>
        <button class="menuBtn locked" id="map-22x8" onclick="buyMap('22x8', 22, 8, 600, 2)">
            â†•ï¸ ÃšzkÃ¡ 22x8
            <span class="level-req">Lvl 2</span>
            <span class="price-tag">ğŸ’° 600</span>
        </button>
        <button class="menuBtn locked" id="map-15x15" onclick="buyMap('15x15', 15, 15, 900, 2)">
            ğŸŸ¦ Kompakt 15x15
            <span class="level-req">Lvl 2</span>
            <span class="price-tag">ğŸ’° 900</span>
        </button>
        <button class="menuBtn locked" id="map-16x16" onclick="buyMap('16x16', 16, 16, 1300, 3)">
            â¬œ ÄŒtverec 16x16
            <span class="level-req">Lvl 3</span>
            <span class="price-tag">ğŸ’° 1300</span>
        </button>
        <button class="menuBtn locked" id="map-24x12" onclick="buyMap('24x12', 24, 12, 1700, 3)">
            â¬†ï¸ VysokÃ¡ 24x12
            <span class="level-req">Lvl 3</span>
            <span class="price-tag">ğŸ’° 1700</span>
        </button>
        <button class="menuBtn locked" id="map-28x9" onclick="buyMap('28x9', 28, 9, 2100, 4)">
            ğŸ—¼ VÄ›Å¾ 28x9
            <span class="level-req">Lvl 4</span>
            <span class="price-tag">ğŸ’° 2100</span>
        </button>
        <button class="menuBtn locked" id="map-14x18" onclick="buyMap('14x18', 14, 18, 2500, 4)">
            ğŸ”² VertikÃ¡lnÃ­ 14x18
            <span class="level-req">Lvl 4</span>
            <span class="price-tag">ğŸ’° 2500</span>
        </button>
        <button class="menuBtn locked" id="map-12x20" onclick="buyMap('12x20', 12, 20, 2900, 5)">
            ğŸ“± DlouhÃ¡ 12x20
            <span class="level-req">Lvl 5</span>
            <span class="price-tag">ğŸ’° 2900</span>
        </button>
        <button class="menuBtn locked" id="map-18x18" onclick="buyMap('18x18', 18, 18, 3300, 5)">
            â¬› VelkÃ½ Ätverec 18x18
            <span class="level-req">Lvl 5</span>
            <span class="price-tag">ğŸ’° 3300</span>
        </button>
        <button class="menuBtn locked" id="map-25x8" onclick="buyMap('25x8', 25, 8, 3700, 6)">
            ğŸ“ Extra ÃºzkÃ¡ 25x8
            <span class="level-req">Lvl 6</span>
            <span class="price-tag">ğŸ’° 3700</span>
        </button>
        <button class="menuBtn locked" id="map-26x10" onclick="buyMap('26x10', 26, 10, 4100, 7)">
            ğŸ¢ Mrakodrap 26x10
            <span class="level-req">Lvl 7</span>
            <span class="price-tag">ğŸ’° 4100</span>
        </button>
        <button class="menuBtn locked" id="map-10x25" onclick="buyMap('10x25', 10, 25, 4400, 8)">
            ğŸ¯ Ultra Å¡irokÃ¡ 10x25
            <span class="level-req">Lvl 8</span>
            <span class="price-tag">ğŸ’° 4400</span>
        </button>
        <button class="menuBtn locked" id="map-20x20" onclick="buyMap('20x20', 20, 20, 4700, 9)">
            ğŸª ArÃ©na 20x20
            <span class="level-req">Lvl 9</span>
            <span class="price-tag">ğŸ’° 4700</span>
        </button>
        <button class="menuBtn locked" id="map-30x10" onclick="buyMap('30x10', 30, 10, 4900, 9)">
            ğŸ° EpickÃ¡ 30x10
            <span class="level-req">Lvl 9</span>
            <span class="price-tag">ğŸ’° 4900</span>
        </button>
        <button class="menuBtn locked" id="map-25x25" onclick="buyMap('25x25', 25, 25, 5000, 10)">
            ğŸ‘‘ Mega arÃ©na 25x25
            <span class="level-req">Lvl 10</span>
            <span class="price-tag">ğŸ’° 5000</span>
        </button>
    </div>
    <button class="menuBtn" onclick="backToMainMenu()">â¬… ZpÄ›t</button>
</div>

<div id="leaderboard" class="centered">
    <h1>ğŸ† Å¾ebÅ™Ã­Äek ğŸ†</h1>
    <div class="loading">NaÄÃ­tÃ¡nÃ­ Å¾ebÅ™Ã­Äku...</div>
    <table id="leaderboardTable" style="display:none;">
        <tr><th>Pozice</th><th>HrÃ¡Ä</th><th>SkÃ³re</th><th>ObtÃ­Å¾nost</th><th>Datum</th></tr>
    </table>
    <button class="menuBtn" onclick="backToMainMenu()" style="margin-top: 20px;">â¬… ZpÄ›t</button>
</div>

<div id="tetrisGame" class="centered">
    <div class="game-container">
        <div class="side-panel">
            <div class="info-box">
                <h3>DALÅ Ã</h3>
                <div id="nextPiece"></div>
            </div>
            <div class="info-box">
                <h3>HOLD</h3>
                <div id="holdPiece"></div>
            </div>
        </div>
        <div>
            <div id="tetris"></div>
        </div>
        
        <div class="side-panel">
            <div class="info-box">
                <h3>SKÃ“RE</h3>
                <div id="score">0</div>
            </div>
        </div>
    </div>
    
    <div class="controls">
        <h4>OVLÃDÃNÃ:</h4>
        <div>â¬…ï¸â¡ï¸ - Pohyb</div>
        <div>â¬†ï¸ - Rotace</div>
        <div>â¬‡ï¸ - RychlejÅ¡Ã­ pÃ¡d</div>
        <div>MEZERNÃK - OkamÅ¾itÃ© umÃ­stÄ›nÃ­</div>
        <div>P - Pauza</div>
        <div>ESC - Menu</div>
    </div>
</div>

<div id="loadingScreen">
    <div class="loading-content">
        <h2>âš¡ NAÄŒÃTÃNÃ HRY âš¡</h2>
        <div class="loading-bar-container">
            <div class="loading-bar" id="loadingBar"></div>
        </div>
        <div class="loading-text" id="loadingText">PÅ™ipravuji hernÃ­ pole...</div>
        <div class="loading-spinner">
            <div class="spinner-dot"></div>
            <div class="spinner-dot"></div>
            <div class="spinner-dot"></div>
        </div>
    </div>
</div>

<div class="pause-overlay" id="pauseOverlay">
    <div class="pause-text">PAUZA</div>
</div>

<div id="nameModal">
    <div class="modal-content">
        <h2>ğŸ‰ SkvÄ›lÃ¡ hra! ğŸ‰</h2>
        <p style="font-size: 24px; margin-bottom: 10px;">Tvoje skÃ³re: <span id="finalScore">0</span></p>
        <div class="coin-reward">
            ğŸ’° +<span id="earnedCoins">0</span> mincÃ­!
        </div>
        <div class="xp-reward">
            â­ +<span id="earnedXP">0</span> XP
        </div>
        <p id="saveMessage" style="font-size: 18px; color: #00ff00; margin: 20px 0;">
            âœ… SkÃ³re automaticky uloÅ¾eno!
        </p>
        <button class="menuBtn" onclick="backToMainMenu()">ğŸ  ZpÄ›t do menu</button>
    </div>
</div>

<script type="module" src="tetris.js"></script>
</body>

</html>


